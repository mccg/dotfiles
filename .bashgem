# .bashrc

parse_git_branch() {
  git branch 2> /dev/null | sed -e '/^[^*]/d' -e 's/* \(.*\)/(\1)/'
}

watch2 () {
  WATCH2_N=`printenv WATCH2_N`
  [ ${WATCH2_N} ] || WATCH2_N=3
  let watch2_executed_times=0
  while sleep $WATCH2_N;
  do
    temp_file=$(mktemp)
    let watch2_executed_times=watch2_executed_times+1 
    echo -e "[watch2] : "`date "+%F %T %Z %z"` >> ${temp_file}
    echo -e "[watch2] : command : "$@ >> ${temp_file}
    $@ >> ${temp_file} 2>&1
    echo -e "\n[watch2] : ${watch2_executed_times} times executed." >> ${temp_file}
    clear
    cat $temp_file
    rm -f $temp_file
  done
}

export PS1="[\u@\h \w]\033[32m\]\$(parse_git_branch)\033[0m\]\n$ "
export TERM=xterm-256color

alias vi='vim'
alias view='vim -R'
alias ll='ls -lh'
alias lla='ls -lha'
alias lh='ls -lh'
alias l='ls -lha'
alias la='ls -a'
alias tat='tmux at -t'
alias tls='tmux ls'
alias tns='tmux new -s'
alias dirs='dirs -v'
alias pd='pushd'
alias cd2='cd ../..'
alias cd3='cd ../../..'
alias gitadog='git log --oneline --all --decorate --graph'

alias vimrc='vim ~/.vimrc'
alias vimbashrc='vim ~/.bashrc'
alias vimbashprofile='vim ~/.bash_profile'

alias pingbaidu="ping www.baidu.com"
alias sag='/usr/bin/ssh-agent bash'
alias sad='/usr/bin/ssh-add'
